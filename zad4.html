<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator</title> 
    <style>
        body {
            display: grid;
            place-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }

        .ekran {
            width: 100%;
            height: 50px;
            background-color: #222;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px;
            text-align: right;
            font-size: 24px;
            box-sizing: border-box;
            margin-bottom: 15px;
        }

        .przycisk {
            background-color: #222;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            min-width: 40px;
            text-align: center;
        }

        .kalkulator {
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="kalkulator">
        <div id="ekran" class="ekran">0</div>
        <div>
            <button class="przycisk">0</button>
            <button class="przycisk">C</button>
            <button class="przycisk">+</button>
            <button class="przycisk">-</button>
        </div>
        <div>
            <button class="przycisk">1</button>
            <button class="przycisk">2</button>
            <button class="przycisk">3</button>
            <button class="przycisk">*</button>
        </div>
        <div>
            <button class="przycisk">4</button>
            <button class="przycisk">5</button>
            <button class="przycisk">6</button>
            <button class="przycisk">/</button>
        </div>
        <div>
            <button class="przycisk">7</button>
            <button class="przycisk">8</button>
            <button class="przycisk">9</button>
            <button class="przycisk">=</button>
        </div>
    </div>

    <script>
        const ekran = document.getElementById('ekran');
        const przyciski = document.querySelectorAll('.przycisk');

        przyciski.forEach(function(przycisk) {
            przycisk.addEventListener('click', function() {
                const tekstPrzycisku = przycisk.textContent;
                const aktualnyEkran = ekran.textContent;
                const operatory = '+-*/';
                const ostatniZnak = aktualnyEkran.charAt(aktualnyEkran.length - 1);

                if (tekstPrzycisku === 'C') {
                    ekran.textContent = '0';
                } else if (tekstPrzycisku === '=') {
                    try {
                        if (operatory.includes(ostatniZnak)) {
                             ekran.textContent = 'Blad';
                        } else {
                            const wynik = new Function('return ' + aktualnyEkran)();
                            ekran.textContent = wynik;
                        }
                    } catch (blad) {
                        ekran.textContent = 'Blad';
                    }
                } else if (operatory.includes(tekstPrzycisku)) {
                    if (aktualnyEkran === 'Blad') {
                        ekran.textContent = '0' + tekstPrzycisku;
                    } else if (operatory.includes(ostatniZnak)) {
                        ekran.textContent = aktualnyEkran.slice(0, -1) + tekstPrzycisku;
                    } else {
                        ekran.textContent += tekstPrzycisku;
                    }
                } else {
                    if (aktualnyEkran === '0' || aktualnyEkran === 'Blad') {
                        if (aktualnyEkran === '0' && tekstPrzycisku === '0') {
                        } else {
                             ekran.textContent = tekstPrzycisku;
                        }
                    } else {
                        ekran.textContent += tekstPrzycisku;
                    }
                }
            });
        });
    </script>
</body>
</html>
